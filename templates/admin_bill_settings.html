{% extends "base.html" %}

{% block title %}Bill Settings{% endblock %}

{% block content %}
<div class="p-6 max-w-xl mx-auto bg-white dark:bg-gray-800 shadow-lg rounded-lg border border-gray-200 dark:border-gray-700">
    <h1 class="text-3xl font-bold mb-6 text-gray-900 dark:text-white">Invoice & Billing Settings</h1>
    
    <form method="POST" action="{{ url_for('admin_bill_settings') }}" class="space-y-6">
        
        {# --- 1. COMPANY DETAILS --- #}
        <h2 class="text-xl font-semibold mb-3 text-gray-900 dark:text-white">Company Identity</h2>
        <div>
            <label for="companyName" class="block text-sm font-medium text-gray-700 dark:text-white">Company Name</label>
            <input type="text" name="companyName" id="companyName" value="{{ settings.companyName or '' }}"
                   class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
        </div>
        
        <div>
            <label for="companyAddress" class="block text-sm font-medium text-gray-700 dark:text-white">Address</label>
            <textarea name="companyAddress" id="companyAddress" rows="2"
                      class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">{{ settings.companyAddress or '' }}</textarea>
        </div>
        
        <div>
            <label for="footerText" class="block text-sm font-medium text-gray-700 dark:text-white">Invoice Footer Text</label>
            <input type="text" name="footerText" id="footerText" value="{{ settings.footerText or '' }}"
                   class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
        </div>

        {# --- 2. BANK DETAILS --- #}
        <h2 class="text-xl font-semibold pt-4 mb-3 border-t dark:border-gray-700 text-gray-900 dark:text-white">Bank Information</h2>
        <div>
            <label for="bank_name" class="block text-sm font-medium text-gray-700 dark:text-white">Bank Name</label>
            <input type="text" name="bank_name" id="bank_name" value="{{ settings.bank_name or 'CENTRAL BANK OF INDIA' }}"
                   class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
        </div>
        <div>
            <label for="account_number" class="block text-sm font-medium text-gray-700 dark:text-white">A/C Number</label>
            <input type="text" name="account_number" id="account_number" value="{{ settings.account_number or '223900761' }}"
                   class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
        </div>

        {# --- 3. TAX RATES (Conversion from Decimal to Percentage) --- #}
        <h2 class="text-xl font-semibold pt-4 mb-3 border-t dark:border-gray-700 text-gray-900 dark:text-white">Tax Configuration (Input as Percentage)</h2>
        <div class="flex space-x-4">
            <div >
                <label for="tax_rate_cgst" class="block text-sm font-medium text-gray-700 dark:text-white">CGST Rate (%)</label>
                <input type="number" name="tax_rate_cgst" id="tax_rate_cgst" value="{{ settings.tax_rate_cgst or '0.0' }}"
                       class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
            </div>
            <div>
                <label for="tax_rate_sgst" class="block text-sm font-medium text-gray-700 dark:text-white">SGST Rate (%)</label>
                <input type="number" name="tax_rate_sgst" id="tax_rate_sgst" value="{{ settings.tax_rate_sgst or '0.0' }}"
                    class="mt-1 block w-full px-3 py-2 border rounded-md dark:bg-gray-700 dark:text-white">
            </div>
        </div>

        <div class="pt-4 text-right">
            <button type="submit" 
                    class="py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">
                Save Settings
            </button>
        </div>
    </form>
</div>
{% endblock %}